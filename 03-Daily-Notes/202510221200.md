Manter um ping na api para ter um status check, tem que tomar cuidado para nao sobrescrever o status se tiver concorrência

O redis ja usa a atomicidade então nao tem esse problema

TTL - Time to live - Adicionar um tempo que a informação vai ficar viva, nesse caso como queremos o ping a cada 1 minuto seria 60sec

Quando a api recebe uma request ele valida no redis qual das api esta UP, se amabas estão up escolhe uma aleatoria, faz a request e atualiza o redis com o lasCheckedAt e matem o isup.

O contrato de como deve ser o objeto é interessante ficar dentro de cada API cliente para o meu controller nao precisar conhecer totalmente as respostas

Concorrência no update no redis settar o ttl faz com que naquele tempo nenhuma outra ação vai alterar o objeto

Para a conconrrencia se na hora de tentar atualizar o locker de erro quer dizer que ja tem outra atualização

